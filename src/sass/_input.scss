/**
 *
 * Input
 *
 * @author Takuto Yanagida
 * @version 2021-12-02
 *
 */


@use 'common';
@use 'button';


@mixin input {
	@extend %input-base;
}

@mixin input-number-wrapper {
	@supports (-webkit-appearance: none) and (not (-moz-appearance: none)) and (not (font: -apple-system-body)) {
		position: relative;
		&::after {
			content  : '';
			position : absolute;
			top      : 50%;
			right    : 0.25em;
			transform: translateY(-50%);

			width : 1em;
			height: 1em;

			box-shadow: inset 0 0 0 2em var(--nc-form-mark-color);  // For print
			clip-path : polygon(50% 0%, 25% 35%, 50% 35%,
			50% 65%, 25% 65%, 50% 100%, 75% 65%, 50% 65%,
			50% 35%, 75% 35%);

			pointer-events: none;
		}
		&[disabled] {
			--nc-form-mark-color: var(--nc-form-disabled-color);
		}
		input[type='number'] {
			appearance: none;
			padding-inline-end: 1.5em;
			position: relative;
			&::-webkit-inner-spin-button {
				position: absolute;
				inset-block: 0;
				inset-inline-end: 0;

				transform-origin: right center;
				transform: scale(1.5);
				opacity: 0;
			}
		}
	}
}

@mixin input-color {
	@extend %input-base;
	height: 2rem;
	min-width: 3rem;
	vertical-align: middle;
	padding: 0.25rem;
}

@mixin input-range {
	@extend %focus;
	vertical-align: middle;
	padding: 0.25rem;
	border-radius: 0.25rem;  // For focus on Chrome
}

@mixin input-file {
	color      : inherit;
	font       : inherit;
	font-size  : 1em;
	line-height: 1.15;

	&::file-selector-button {
		@include button.button;
	}
	&:disabled {
		color: var(--nc-form-disabled-color);
		--nc-form-mark-color: var(--nc-form-disabled-color);
	}
}
